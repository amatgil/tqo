
: '(⍤=1, Nat) » bfs
              ↳ '(⍤=1, Nat)
bfs ← {
  s ← ⍺≢↯∞ ⊡⍜0 0 ⍝ all distances are inf, start at 0

  s ≡⍣{β=∞⍸ ⊏⍜{γ 0_¯1⍤⊏β 1⍤/↧}}
}

